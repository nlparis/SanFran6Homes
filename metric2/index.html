---
layout: default
title: Metric 2
---
<div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.3/jquery.csv.js"></script>

    <h1>Bookings Optimizations</h1>

    <div id="csv-display"></div>
    <p> Optimal Price Estimation:</p>
    <input type="button" value="Display Graph" onClick="priceEstimation()">
    <div class="loading" style="display:none">loading...</div>
    <div class="estimatedPrice" style="display:none"></div>
    <canvas id="bar-chart" width="800" height="450"></canvas>
    <script>
        function priceEstimation() {


            $.ajax({
                type: "GET",
                url: "yearly_price.csv",
                dataType: "text",
                success: function (response) {
                    data = $.csv.toArrays(response);
                    console.log(data);

                    var months = [[0], [0], [0], [0], [0], [0], [0], [0], [0], [0], [0], [0]];

                    for (var i = 0; i < 365; i++){
                        var date = data[i][1].split("/");
                        console.log((months[date[0] - 1]));
                        console.log((data[i][2]));
                        months[date[0] - 1] = parseInt(months[date[0] - 1]) + parseInt(data[i][2]);

                    }
                    console.log(months);
                }
            });




        }
    </script>
</div>
